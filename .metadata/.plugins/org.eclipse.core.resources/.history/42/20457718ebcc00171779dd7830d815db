<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
"http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<!-- 
    Mapping file autogenerated by MyEclipse Persistence Tools
-->
<hibernate-mapping>
    <class name="com.wwq.cinema.entity.FilmInfo" table="filmInfo" schema="wwq">
        <id name="filmId" type="java.lang.Long">
            <column name="filmID" />
            <generator class="native" />
        </id>
        <property name="filmName" type="java.lang.String">
            <column name="filmName" length="50" not-null="true" />
        </property>
        <property name="typeId" type="java.lang.String">
            <column name="typeID" length="2" not-null="true" />
        </property>
        <property name="actor" type="java.lang.String">
            <column name="actor" />
        </property>
        <property name="director" type="java.lang.String">
            <column name="director" length="50" />
        </property>
        <property name="ticketPrice" type="java.lang.Long">
            <column name="ticketPrice" not-null="true" />
        </property>
    </class>
    <sql-query name="searchFilm">
    	<![CDATA[
    		select {f.*},{t.*}  from filminfo f ,filmtype t
    		where
			(f.typeid = t.typeid) and	
    		(f.filmname like :filmname) and 
    		(f.actor like :actor) and
    		(f.director like :director) and
    		(f.typeid like :typeid) and 
    		(f.ticketprice between :smallprice and :bigprice) 	
             
		]]>
		<return alias="f" class="com.wwq.cinema.entity.FilmInfo"/>
		<return alias="t" class="com.wwq.cinema.entity.FilmType"/>
    </sql-query>
    
</hibernate-mapping>
